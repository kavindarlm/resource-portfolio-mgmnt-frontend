<div class="container-fluid">
  <div class="row no-gutters">
    <div class="col-12 col-md-6">
      <form class="form border rounded p-2">

        <div>
          <div class="border rounded text-center col-12 mb-3 mt-1 pt-1 pb-1 text-white bg-primary">Create New Team</div>
        </div>

        <div class="form-goup row-label mb-2 col-12">
          <label class="pm-label fw-medium mb-2 col-4" for="teamName">Team Name *</label>
          <div class="form-group row row-label col-12">
            <div class="form-group align-items-center">
              <label for="teamName" class="text-primary col-4">Name :</label>
              <input type="text" class="tn-input form-control " [(ngModel)]="teamData.team_Name" name="teamName" placeholder="Enter Team Name">
            </div>
          </div>
        </div>

        <div class="form-goup row-label mb-2 col-12">
          <label class="pm-label fw-medium mb-2 col-4" for="Description">Description *</label>
          <div class="form-group row row-label col-12">
            <div class="form-group align-items-center">
              <label for="description" class="text-primary col-4">Description :</label>
              <input type="text" class="d-input form-control" [(ngModel)]="teamData.team_description" name="description" placeholder="Enter Description">
            </div>
          </div>
        </div>

        <hr />

        <div>
          <div class="border rounded text-center col-12 mb-3 mt-1 pt-1 pb-1 text-white bg-primary">Team Resource List</div>
        </div>

        <div class="table-responsive-sm  table-responsive-md table-responsive">
          <table class="table table-bordered table-striped table-hover table-sm">
  
            <thead class="thead-dark fs-6 fst-normal">
              <tr class="">
                <th scope="col" class="col-4 text-center">Resource Id</th>
                <th scope="col" class="col-4 text-center">Job Role</th>
                <th scope="col" class="col-4 text-center">Org. Unit</th>
              </tr>
            </thead>
            
            <tbody>
              <tr  *ngFor="let resource of teamData.resources; let i = index" class="border text-center">
                <td class="col-4 border text-center">{{ resource.resourceId }}</td>
                <td class="col-4 border text-center">{{ resource.roleName }}</td>
                <td class="col-4 border text-center">{{ resource.unitName }}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="addResourceBtn col-6">
          <app-new-team-button [text]="'Add Resources ID'" (click)="toggleResourceTable()"></app-new-team-button>
        </div>
        <hr />

        <div class="addResourceBtn col-6">
          <app-new-team-button [text]="'Create Team'" value="Create Team"></app-new-team-button>
        </div>

        <hr />

        <div class="updatebox row col-12">
          <div class="col-6">
            <button class="btn btn-md editbtn w-60 btn-outline-primary ml-1" (click)="edit()">Edit</button>
          </div>
          <div class="col-6">
            <button class="btn btn-md btn-outline-danger deletebtn w-60 float-right" (click)="generalservice.showDialog = true"> Delete</button>
          </div>
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
      </form>
    </div>

    <div class="col-12 col-md-6">
      <app-update-resourc-table 
      *ngIf="showResourceTable" 
      [teamId]="teamId" 
      [resources]="resources"
      (resourceSelected)="handleResourceSelected($event)">
  </app-update-resourc-table>
    </div>
  </div>
</div>

<div>
  <app-delete-popup *ngIf="generalservice.showDialog" [team_Id]="teamId"></app-delete-popup>
  <router-outlet></router-outlet>
</div>
