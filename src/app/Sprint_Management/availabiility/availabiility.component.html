<div class="border rounded container">
    <div class="row">
        <div class="col-10">
            <div class="p-2 mt-3 mb-2 bg-primary text-white text-center border rounded">Availability</div>
        </div>
        <div class="col-2">
            <button class="border btn shadow-none bd-highlight shadow p-2 mb-3 w-100 mt-3" (click)="deleteContent()">
                <i class="bi bi-x"></i>
            </button>
        </div>
    </div>


    <div>
        <div class="col rounded border border-4 ms-2 p-3 mb-2 text-center">
            <i class="bi bi-person-circle fa-2x"></i>
            <div>{{ resourceDetails.resourceId }}</div>
            <div class="text-primary">{{ resourceDetails.resourceName }}</div>
            <div class="text-black-50">{{ resourceDetails.job_role?.roleName }}</div>
        </div>
    </div>
    <div>
        <div class="rounded border mb-5 p-1">

            <div class="p-2 mb-2 bg-primary text-white text-center rounded border bg-opacity-50">Add Percentage</div>

            <div class="row mb-1" *ngFor="let task of tasks">
                <div class="col-4 text-center">{{ task.projectName }}</div>
                <div class="col-3 ms-1 text-center">{{ task.taskName }}</div>
                <div class="col-2 text-center">{{ task.resourceAllocationPercentage }}</div>
                <div class="col-2 text-center">
                    <button type="button" class="btn btn-primary" disabled>
                        <i class="bi bi-check"></i>
                    </button>
                </div>
            </div>

            <div *ngFor="let detail of taskProjectDetails" class="row mb-1 text-center">
                <div class="col-4"> {{ detail.projectName }} </div>
                <div class="col-4"> {{ detail.taskName }} </div>
                <div class="col-4"> {{ detail.percentage }}% </div>
            </div>

            <div *ngFor="let set of sets; let i = index" class="row mb-1">
                <div class="col-4">
                    <select class="form-select" (change)="onProjectSelect($event, i)">
                        <option value="" disabled selected>Project</option>
                        <option *ngFor="let project of Projects" [value]="project.projectid">{{ project.projectName }}
                        </option>
                    </select>
                </div>
                <div class="col-3 ms-1">
                    <select class="form-select" (change)="onTaskSelect($event, i)">
                        <option value="" disabled selected>Task</option>
                        <option *ngFor="let task of Tasks" [value]="task.taskid">{{ task.taskName }}</option>
                    </select>
                </div>
                <div class="col-2">
                    <input type="number" class="form-control" [(ngModel)]="set.percentage" placeholder="%" min="0"
                        max="100">
                </div>
                <div class="col-2">
                    <!-- Button to add another set of selectors -->
                    <button class="btn btn-outline-primary Hover" type="button" (click)="addSet()"
                        style="margin-right: 3px;">+</button>
                    <!-- Button to remove the current set of selectors -->
                    <button class="btn btn-outline-danger" type="button" (click)="removeSet(i)">-</button>
                </div>

            </div>

            <div class="d-flex justify-content-center mb-2 mt-2">
                <button class="btn btn-outline-primary Hover" type="button" (click)="onAddClick()">Add</button>
            </div>

        </div>




    </div>